<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Demiana</title>
<style>
body {
    margin: 0;
    background: linear-gradient(to right, #ff9a9e, #fad0c4);
    font-family: Arial, sans-serif;
    text-align: center;
    color: white;
    overflow: hidden;
    position: relative;
    height: 100vh;
}

h1 {
    font-size: 50px;
    margin-top: 50px;
    animation: glow 1.5s linear infinite alternate;
}

@keyframes glow {
    0% { color: #fff; text-shadow: 0 0 10px #fff; }
    50% { color: #fffa00; text-shadow: 0 0 30px #fffa00; }
    100% { color: #ff69b4; text-shadow: 0 0 40px #ff69b4; }
}

#message {
    display: none;
    width: 85%;
    max-height: 80vh;
    margin: 20px auto;
    font-size: 22px;
    line-height: 1.8;
    background: rgba(0,0,0,0.5);
    border-radius: 15px;
    padding: 20px;
    overflow-y: auto;
    position: relative;
    z-index: 10;
}

#title {
    font-size: 40px;
    margin-bottom: 20px;
    animation: glow 1.5s linear infinite alternate;
}

button {
    padding: 15px 30px;
    font-size: 20px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    background: #ff69b4;
    color: white;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    transition: 0.3s;
    z-index: 20;
    position: relative;
}

#finalView {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 30;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

#backButton {
    position: absolute;
    top: 20px;
    left: 20px;
    padding: 10px 20px;
    font-size: 16px;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid white;
    border-radius: 5px;
    z-index: 40;
}

#celebrationImage {
    max-width: 90%;
    max-height: 70vh;
    border: 5px solid #fff;
    border-radius: 15px;
    box-shadow: 0 0 40px #ff69b4;
    z-index: 35;
    object-fit: contain;
    animation: popIn 1s cubic-bezier(0.17, 0.67, 0.83, 0.67);
}

@keyframes popIn {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

#fireworksCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 32;
}

.heart {
    position: fixed;
    bottom: -20px;
    font-size: 22px;
    animation: float 6s linear infinite;
    z-index: 1;
}

@keyframes float {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-100vh); opacity: 0; }
}
</style>
</head>
<body>

<div id="intro">
    <h1>From Mazen to Demiana ðŸ’–</h1>
    <button onclick="showMessage()">Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§</button>
</div>

<div id="message">
    <div id="title">Happy Birthday Demiana ðŸ¥³</div>
    <div id="text"></div>
    <button id="fireButton" onclick="showFinalCelebration()" style="display:none; margin-top:20px;">Ø¯ÙˆØ³ÙŠ Ù‡Ù†Ø§ ÙŠØ§ Ø¯ÙŠÙ…ÙŠ âœ¨</button>
</div>

<div id="finalView">
    <button id="backButton" onclick="goBackToMessage()">â¬… Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙƒÙ„Ø§Ù…</button>
    <img id="celebrationImage" src="demiana.jpg" alt="Demiana">
    <h2 id="finalText" style="margin-top:20px; font-size:35px; color: gold; z-index: 36; text-shadow: 0 0 10px #000;">Happy Birthday Demiana! ðŸŽ‚</h2>
    <canvas id="fireworksCanvas"></canvas>
</div>

<audio id="music" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
</audio>
<audio id="fireworkSound">
    <source src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3" type="audio/mpeg">
</audio>

<script>
// Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙƒÙ…Ø§ Ø·Ù„Ø¨ØªÙ‡ Ø¨Ø§Ù„Ø¸Ø¨Ø·
const lines = [
"Demiana Ù„Ùˆ Ù‚Ø¹Ø¯Øª Ø£ØªÙƒÙ„Ù… Ù…Ù† Ù‡Ù†Ø§ Ù„Ø¨ÙƒØ±Ø© Ù…Ø´ Ù‡ÙŠÙƒÙÙŠ Ø§Ù„Ù„ÙŠ Ø¹Ø§ÙŠØ² Ø£Ù‚ÙˆÙ„Ù‡",
"Ø§Ù„ÙØªØ±Ø© ÙƒØ§Ù†Øª Ù‚ØµÙŠØ±Ø© Ø¨Ø³ Ø´ÙˆÙØª Ù…Ø¹Ø§ÙƒÙŠ ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø­Ù„ÙˆØ© Ø®ØµÙˆØµØ§ Ø¥Ù†ÙŠ Ø¹Ø±ÙØªÙƒ ÙˆØ§Ù†Ø§ ÙƒÙ†Øª Ù ÙˆÙ‚Øª ØµØ¹Ø¨",
"Ø§Ù†ØªÙŠ Ù…Ø­ØªØ±Ù…Ø© ÙˆÙ‚Ù„Ø¨Ùƒ Ø·ÙŠØ¨ ÙˆØ¨ØªØ­Ø¨ÙŠ ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø­ÙˆØ§Ù„ÙŠÙƒÙŠ ÙˆØºÙŠØ±ØªÙŠ Ø­ÙŠØ§ØªÙŠ Ù Ø§Ù„ÙƒØ§Ù… Ø´Ù‡Ø± Ø¯ÙˆÙ„",
"Ø±Ø¨Ù†Ø§ ÙŠØ®Ù„ÙŠÙƒÙŠ Ù„ÙŠØ§ ÙˆÙ†ÙØ¶Ù„ ØµØ­Ø§Ø¨ ÙˆÙ‚Ø±ÙŠØ¨ÙŠÙ† Ø·ÙˆÙ„ Ø§Ù„Ø¹Ù…Ø±",
"",
"ÙƒÙ„ Ø³Ù†Ø© ÙˆØ§Ù†ØªÙŠ Ø·ÙŠØ¨Ø© ÙˆØ£ØªÙ…Ù†Ù‰ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØªÙƒÙˆÙ† Ø£Ø­Ù„Ù‰ Ù…Ù† Ø§Ù„Ù„ÙŠ ÙØ§ØªØª",
"Ù…Ù„ÙŠØ§Ù†Ø© Ø¶Ø­Ùƒ ÙˆØ±Ø§Ø­Ø© ÙˆÙ†Ø¬Ø§Ø­",
"Ø±Ø¨Ù†Ø§ ÙŠØ®Ù„ÙŠÙƒÙŠ Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ø¨Ù†ÙØ³ Ø·ÙŠØ¨ØªÙƒ ÙˆÙ‚Ù„Ø¨Ùƒ Ø§Ù„Ù†Ø¶ÙŠÙ",
"ÙˆØªÙØ¶Ù„ÙŠ Ø´Ø®Øµ Ø¬Ù…ÙŠÙ„ ÙÙŠ Ø­ÙŠØ§Ø© ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø­ÙˆØ§Ù„ÙŠÙƒÙŠ Ù…Ù† ØºÙŠØ± Ù…Ø§ ØªØ­Ø§ÙˆÙ„ÙŠ",
"",
"Ø£ØªÙ…Ù†Ù‰ Ø£ÙŠ Ø­Ø§Ø¬Ø© Ø¨ØªØªÙ…Ù†ÙŠÙ‡Ø§ ØªØªØ­Ù‚Ù‚ ÙˆØ£ÙŠ Ø²Ø¹Ù„ ÙŠØ¨Ø¹Ø¯ ÙˆØ£ÙŠ ØªØ¹Ø¨ ÙŠØªØ­ÙˆÙ„ Ù„ÙØ±Ø­",
"",
"",
"ÙƒÙ„ Ø³Ù†Ø© ÙˆØ§Ù†ØªÙŠ Ø·ÙŠØ¨Ø© ÙˆØ¹Ù‚Ø¨Ø§Ù„ Ù…Ù„ÙŠÙˆÙ† Ø³Ù†Ø© Ø­Ù„ÙˆØ© ðŸ˜ðŸ¥³"
];

let lineIndex = 0;
let charIndex = 0;
let animationId;

function showMessage() {
    document.getElementById("intro").style.display = "none";
    document.getElementById("message").style.display = "block";
    document.getElementById("music").play();
    if(lineIndex === 0 && charIndex === 0) typeLine();
    setInterval(createHeart, 300);
}

function typeLine() {
    const textDiv = document.getElementById("text");
    if (lineIndex >= lines.length) {
        document.getElementById("fireButton").style.display = "inline-block";
        return;
    }
    if (charIndex < lines[lineIndex].length) {
        textDiv.innerHTML += lines[lineIndex].charAt(charIndex);
        charIndex++;
        textDiv.scrollTop = textDiv.scrollHeight;
        setTimeout(typeLine, 40);
    } else {
        textDiv.innerHTML += "<br>";
        charIndex = 0;
        lineIndex++;
        setTimeout(typeLine, 500);
    }
}

function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "ðŸ’–";
    heart.style.left = Math.random() * window.innerWidth + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}

function goBackToMessage() {
    cancelAnimationFrame(animationId);
    document.getElementById("finalView").style.display = "none";
    document.getElementById("message").style.display = "block";
}

function showFinalCelebration() {
    document.getElementById("message").style.display = "none";
    document.getElementById("finalView").style.display = "flex";
    
    const canvas = document.getElementById("fireworksCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particles = [];
    let rockets = [];
    const colors = ['#FF1493', '#00BFFF', '#FFD700', '#ADFF2F', '#FF4500', '#FFFFFF'];

    class Rocket {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height;
            this.targetY = Math.random() * (canvas.height * 0.5) + 50;
            this.speed = Math.random() * 3 + 6;
            this.color = colors[Math.floor(Math.random() * colors.length)];
        }
        update() { this.y -= this.speed; }
        draw() {
            ctx.fillStyle = this.color;
            ctx.beginPath(); ctx.arc(this.x, this.y, 4, 0, Math.PI * 2); ctx.fill();
        }
    }

    class Particle {
        constructor(x, y, color) {
            this.x = x; this.y = y; this.color = color;
            this.angle = Math.random() * Math.PI * 2;
            this.velocity = Math.random() * 8 + 2;
            this.alpha = 1;
            this.decay = Math.random() * 0.015 + 0.01;
        }
        update() {
            this.x += Math.cos(this.angle) * this.velocity;
            this.y += Math.sin(this.angle) * this.velocity + 1;
            this.alpha -= this.decay;
        }
        draw() {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.fillStyle = this.color;
            ctx.beginPath(); ctx.arc(this.x, this.y, 3, 0, Math.PI * 2); ctx.fill();
            ctx.restore();
        }
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (Math.random() < 0.06) {
            rockets.push(new Rocket());
            let s = document.getElementById("fireworkSound").cloneNode(true);
            s.volume = 0.2;
            s.play();
        }
        rockets.forEach((r, i) => {
            r.update(); r.draw();
            if (r.y <= r.targetY) {
                for (let j = 0; j < 80; j++) particles.push(new Particle(r.x, r.y, r.color));
                rockets.splice(i, 1);
            }
        });
        particles.forEach((p, i) => {
            p.update(); p.draw();
            if (p.alpha <= 0) particles.splice(i, 1);
        });
        animationId = requestAnimationFrame(animate);
    }
    animate();
}
</script>
</body>
</html>